Device: cuda
Seed: 987654321
Loading 36 LEAF FEMNIST train files...
LEAF FEMNIST train: 3597 users, 734463 samples
Loading 36 LEAF FEMNIST test files...
LEAF FEMNIST test: 3597 users, 83388 samples
Found 3597 train users, 3597 test users, 3597 common users
User sample counts range: 525 (max) to 17 (min)
Distributed ALL 3597 users across 20 clients
Users per client: 179 (with 17 clients getting +1 user)
Train partition sizes: [36360, 37070, 35957, 38262, 36024, 37732, 36921, 38328, 36867, 37683, 36507, 36915, 36007, 37001, 35681, 35453, 36585, 36801, 35964, 36345]
Test partition sizes: [4128, 4203, 4081, 4333, 4091, 4287, 4193, 4349, 4191, 4277, 4143, 4193, 4093, 4197, 4052, 4029, 4153, 4183, 4084, 4128]
  Client 0: 36360 train samples, 62 unique classes
  Client 1: 37070 train samples, 62 unique classes
  Client 2: 35957 train samples, 62 unique classes
  Client 3: 38262 train samples, 62 unique classes
  Client 4: 36024 train samples, 62 unique classes
  Client 5: 37732 train samples, 62 unique classes
  Client 6: 36921 train samples, 62 unique classes
  Client 7: 38328 train samples, 62 unique classes
  Client 8: 36867 train samples, 62 unique classes
  Client 9: 37683 train samples, 62 unique classes
  Client 10: 36507 train samples, 62 unique classes
  Client 11: 36915 train samples, 62 unique classes
  Client 12: 36007 train samples, 62 unique classes
  Client 13: 37001 train samples, 62 unique classes
  Client 14: 35681 train samples, 62 unique classes
  Client 15: 35453 train samples, 62 unique classes
  Client 16: 36585 train samples, 62 unique classes
  Client 17: 36801 train samples, 62 unique classes
  Client 18: 35964 train samples, 62 unique classes
  Client 19: 36345 train samples, 62 unique classes
Will sample 4500 samples per client per epoch
Graph: erdos, nodes: 20, edges: 48
Degree statistics: avg=4.80, min=2, max=7
Attack: Compromised 2/20 nodes: [5, 13]
Attack type: backdoor, lambda: 1.0
Backdoor target label: 0, trigger size: 4
Model variant: baseline
Model parameters: 6,603,710
Initial test acc across nodes: mean=0.0168 ± 0.0139
Backdoor attack: Created poisoned datasets for 2 compromised nodes
Round 001: test acc mean=0.0552 ± 0.0107 | min=0.0417 max=0.0857
         : test loss mean=3.6900 ± 0.0173
         : individual accs = ['0.045785', '0.052344', '0.050723', '0.052850', '0.051088', '0.050618', '0.042213', '0.058174', '0.085660', '0.074117', '0.050447', '0.072979', '0.058637', '0.047177', '0.050346', '0.041698', '0.058271', '0.050203', '0.055583', '0.054506']
         : correct/total = [(189, 4128), (220, 4203), (207, 4081), (229, 4333), (209, 4091), (217, 4287), (177, 4193), (253, 4349), (359, 4191), (317, 4277), (209, 4143), (306, 4193), (240, 4093), (198, 4197), (204, 4052), (168, 4029), (242, 4153), (210, 4183), (227, 4084), (225, 4128)]
         : compromised: 0.0489, honest: 0.0559
Round 002: test acc mean=0.0672 ± 0.0257 | min=0.0436 max=0.1230
         : test loss mean=3.6822 ± 0.0175
         : individual accs = ['0.044574', '0.048775', '0.123009', '0.043619', '0.112686', '0.045253', '0.088242', '0.045068', '0.051062', '0.050503', '0.045619', '0.061770', '0.095529', '0.088396', '0.094274', '0.100025', '0.054659', '0.048291', '0.053379', '0.048450']
         : correct/total = [(184, 4128), (205, 4203), (502, 4081), (189, 4333), (461, 4091), (194, 4287), (370, 4193), (196, 4349), (214, 4191), (216, 4277), (189, 4143), (259, 4193), (391, 4093), (371, 4197), (382, 4052), (403, 4029), (227, 4153), (202, 4183), (218, 4084), (200, 4128)]
         : compromised: 0.0668, honest: 0.0672
Round 003: test acc mean=0.0631 ± 0.0163 | min=0.0443 max=0.1009
         : test loss mean=3.6782 ± 0.0169
         : individual accs = ['0.085756', '0.054723', '0.057829', '0.076160', '0.074798', '0.087240', '0.044598', '0.051276', '0.058936', '0.081599', '0.050447', '0.078703', '0.050574', '0.046462', '0.100938', '0.050633', '0.058753', '0.050203', '0.058031', '0.044331']
         : correct/total = [(354, 4128), (230, 4203), (236, 4081), (330, 4333), (306, 4091), (374, 4287), (187, 4193), (223, 4349), (247, 4191), (349, 4277), (209, 4143), (330, 4193), (207, 4093), (195, 4197), (409, 4052), (204, 4029), (244, 4153), (210, 4183), (237, 4084), (183, 4128)]
         : compromised: 0.0669, honest: 0.0627
Round 004: test acc mean=0.0780 ± 0.0353 | min=0.0451 max=0.1502
         : test loss mean=3.6714 ± 0.0144
         : individual accs = ['0.150194', '0.047109', '0.057584', '0.053543', '0.138108', '0.045253', '0.050799', '0.045068', '0.116679', '0.054244', '0.099203', '0.047222', '0.058637', '0.063617', '0.111550', '0.144453', '0.058271', '0.098733', '0.070519', '0.048934']
         : correct/total = [(620, 4128), (198, 4203), (235, 4081), (232, 4333), (565, 4091), (194, 4287), (213, 4193), (196, 4349), (489, 4191), (232, 4277), (411, 4143), (198, 4193), (240, 4093), (267, 4197), (452, 4052), (582, 4029), (242, 4153), (413, 4183), (288, 4084), (202, 4128)]
         : compromised: 0.0544, honest: 0.0806
Round 005: test acc mean=0.1005 ± 0.0390 | min=0.0457 max=0.1620
         : test loss mean=3.6634 ± 0.0185
         : individual accs = ['0.069525', '0.058768', '0.068856', '0.063928', '0.045710', '0.139491', '0.054138', '0.080708', '0.162014', '0.065233', '0.135892', '0.055569', '0.127535', '0.135811', '0.096989', '0.132787', '0.081869', '0.161367', '0.123408', '0.149467']
         : correct/total = [(287, 4128), (247, 4203), (281, 4081), (277, 4333), (187, 4091), (598, 4287), (227, 4193), (351, 4349), (679, 4191), (279, 4277), (563, 4143), (233, 4193), (522, 4093), (570, 4197), (393, 4052), (535, 4029), (340, 4153), (675, 4183), (504, 4084), (617, 4128)]
         : compromised: 0.1377, honest: 0.0963
Round 006: test acc mean=0.1027 ± 0.0394 | min=0.0457 max=0.1646
         : test loss mean=3.6505 ± 0.0167
         : individual accs = ['0.067103', '0.143945', '0.048272', '0.084237', '0.104375', '0.142757', '0.061293', '0.113129', '0.164639', '0.080430', '0.133961', '0.148819', '0.045688', '0.134143', '0.150049', '0.113676', '0.049362', '0.060722', '0.140548', '0.066618']
         : correct/total = [(277, 4128), (605, 4203), (197, 4081), (365, 4333), (427, 4091), (612, 4287), (257, 4193), (492, 4349), (690, 4191), (344, 4277), (555, 4143), (624, 4193), (187, 4093), (563, 4197), (608, 4052), (458, 4029), (205, 4153), (254, 4183), (574, 4084), (275, 4128)]
         : compromised: 0.1385, honest: 0.0987
Round 007: test acc mean=0.1336 ± 0.0567 | min=0.0627 max=0.2597
         : test loss mean=3.6303 ± 0.0186
         : individual accs = ['0.085271', '0.151320', '0.258270', '0.132472', '0.068687', '0.077910', '0.151443', '0.079099', '0.206156', '0.062661', '0.139995', '0.259719', '0.157830', '0.152490', '0.113524', '0.072475', '0.083313', '0.167105', '0.140793', '0.111676']
         : correct/total = [(352, 4128), (636, 4203), (1054, 4081), (574, 4333), (281, 4091), (334, 4287), (635, 4193), (344, 4349), (864, 4191), (268, 4277), (580, 4143), (1089, 4193), (646, 4093), (640, 4197), (460, 4052), (292, 4029), (346, 4153), (699, 4183), (575, 4084), (461, 4128)]
         : compromised: 0.1152, honest: 0.1357
Round 008: test acc mean=0.1924 ± 0.0285 | min=0.1336 max=0.2581
         : test loss mean=3.5802 ± 0.0285
         : individual accs = ['0.189922', '0.200095', '0.162215', '0.193630', '0.221706', '0.188477', '0.195564', '0.193148', '0.133620', '0.258125', '0.206372', '0.165037', '0.209626', '0.192995', '0.221866', '0.221147', '0.137732', '0.199378', '0.188296', '0.168120']
         : correct/total = [(784, 4128), (841, 4203), (662, 4081), (839, 4333), (907, 4091), (808, 4287), (820, 4193), (840, 4349), (560, 4191), (1104, 4277), (855, 4143), (692, 4193), (858, 4093), (810, 4197), (899, 4052), (891, 4029), (572, 4153), (834, 4183), (769, 4084), (694, 4128)]
         : compromised: 0.1907, honest: 0.1925
Round 009: test acc mean=0.2185 ± 0.0172 | min=0.1909 max=0.2610
         : test loss mean=3.4648 ± 0.0240
         : individual accs = ['0.202762', '0.217940', '0.236707', '0.190861', '0.218040', '0.206671', '0.209158', '0.222350', '0.244333', '0.210428', '0.206855', '0.202242', '0.207183', '0.238265', '0.217670', '0.210226', '0.223212', '0.202486', '0.261019', '0.241521']
         : correct/total = [(837, 4128), (916, 4203), (966, 4081), (827, 4333), (892, 4091), (886, 4287), (877, 4193), (967, 4349), (1024, 4191), (900, 4277), (857, 4143), (848, 4193), (848, 4093), (1000, 4197), (882, 4052), (847, 4029), (927, 4153), (847, 4183), (1066, 4084), (997, 4128)]
         : compromised: 0.2225, honest: 0.2181
Round 010: test acc mean=0.2822 ± 0.0192 | min=0.2416 max=0.3275
         : test loss mean=3.1492 ± 0.0352
         : individual accs = ['0.293847', '0.285986', '0.280568', '0.288484', '0.279638', '0.288080', '0.300262', '0.261439', '0.295395', '0.261632', '0.241612', '0.327451', '0.313462', '0.282106', '0.268016', '0.292132', '0.270648', '0.280899', '0.273751', '0.257994']
         : correct/total = [(1213, 4128), (1202, 4203), (1145, 4081), (1250, 4333), (1144, 4091), (1235, 4287), (1259, 4193), (1137, 4349), (1238, 4191), (1119, 4277), (1001, 4143), (1373, 4193), (1283, 4093), (1184, 4197), (1086, 4052), (1177, 4029), (1124, 4153), (1175, 4183), (1118, 4084), (1065, 4128)]
         : compromised: 0.2851, honest: 0.2818

=== FINAL RESULTS ===
Dataset: femnist, Nodes: 20, Graph: erdos, Aggregation: krum
Attack: backdoor, 10.0% compromised
Final accuracy - Compromised: 0.2851, Honest: 0.2818
Overall test accuracy: mean=0.2822 ± 0.0192

=== BACKDOOR ATTACK SUCCESS RATE (ASR) ===
Target label: 0
Trigger size: 4x4
Overall ASR: 0.0369 ± 0.0646
Honest nodes ASR: 0.0290 ± 0.0524
Compromised nodes ASR: 0.1078 ± 0.1071
Note: Higher ASR indicates more successful backdoor attack
