Device: cuda
Seed: 987654321
Loading 36 LEAF FEMNIST train files...
LEAF FEMNIST train: 3597 users, 734463 samples
Loading 36 LEAF FEMNIST test files...
LEAF FEMNIST test: 3597 users, 83388 samples
Found 3597 train users, 3597 test users, 3597 common users
User sample counts range: 525 (max) to 17 (min)
Distributed ALL 3597 users across 20 clients
Users per client: 179 (with 17 clients getting +1 user)
Train partition sizes: [36360, 37070, 35957, 38262, 36024, 37732, 36921, 38328, 36867, 37683, 36507, 36915, 36007, 37001, 35681, 35453, 36585, 36801, 35964, 36345]
Test partition sizes: [4128, 4203, 4081, 4333, 4091, 4287, 4193, 4349, 4191, 4277, 4143, 4193, 4093, 4197, 4052, 4029, 4153, 4183, 4084, 4128]
  Client 0: 36360 train samples, 62 unique classes
  Client 1: 37070 train samples, 62 unique classes
  Client 2: 35957 train samples, 62 unique classes
  Client 3: 38262 train samples, 62 unique classes
  Client 4: 36024 train samples, 62 unique classes
  Client 5: 37732 train samples, 62 unique classes
  Client 6: 36921 train samples, 62 unique classes
  Client 7: 38328 train samples, 62 unique classes
  Client 8: 36867 train samples, 62 unique classes
  Client 9: 37683 train samples, 62 unique classes
  Client 10: 36507 train samples, 62 unique classes
  Client 11: 36915 train samples, 62 unique classes
  Client 12: 36007 train samples, 62 unique classes
  Client 13: 37001 train samples, 62 unique classes
  Client 14: 35681 train samples, 62 unique classes
  Client 15: 35453 train samples, 62 unique classes
  Client 16: 36585 train samples, 62 unique classes
  Client 17: 36801 train samples, 62 unique classes
  Client 18: 35964 train samples, 62 unique classes
  Client 19: 36345 train samples, 62 unique classes
Will sample 4500 samples per client per epoch
Graph: erdos, nodes: 20, edges: 99
Degree statistics: avg=9.90, min=7, max=14
Attack: Compromised 4/20 nodes: [5, 12, 13, 17]
Attack type: backdoor, lambda: 1.0
Backdoor target label: 0, trigger size: 4
Model variant: baseline
Model parameters: 6,603,710
Initial test acc across nodes: mean=0.0168 ± 0.0139
Backdoor attack: Created poisoned datasets for 4 compromised nodes
Round 001: test acc mean=0.0514 ± 0.0042 | min=0.0453 max=0.0618
         : test loss mean=3.6913 ± 0.0178
         : individual accs = ['0.051599', '0.052344', '0.048272', '0.048465', '0.045710', '0.045253', '0.049130', '0.051276', '0.047960', '0.053776', '0.050447', '0.061770', '0.053750', '0.046938', '0.048124', '0.056342', '0.058271', '0.050203', '0.052889', '0.055475']
         : correct/total = [(213, 4128), (220, 4203), (197, 4081), (210, 4333), (187, 4091), (194, 4287), (206, 4193), (223, 4349), (201, 4191), (230, 4277), (209, 4143), (259, 4193), (220, 4093), (197, 4197), (195, 4052), (227, 4029), (242, 4153), (210, 4183), (216, 4084), (229, 4128)]
         : compromised: 0.0490, honest: 0.0520
Round 002: test acc mean=0.0681 ± 0.0220 | min=0.0448 max=0.0997
         : test loss mean=3.6830 ± 0.0163
         : individual accs = ['0.050145', '0.048775', '0.045087', '0.044773', '0.047421', '0.048752', '0.087765', '0.094504', '0.047960', '0.050736', '0.047309', '0.093489', '0.099682', '0.097212', '0.092053', '0.093075', '0.054418', '0.050920', '0.093536', '0.073643']
         : correct/total = [(207, 4128), (205, 4203), (184, 4081), (194, 4333), (194, 4091), (209, 4287), (368, 4193), (411, 4349), (201, 4191), (217, 4277), (196, 4143), (392, 4193), (408, 4093), (408, 4197), (373, 4052), (375, 4029), (226, 4153), (213, 4183), (382, 4084), (304, 4128)]
         : compromised: 0.0741, honest: 0.0665
Round 003: test acc mean=0.0701 ± 0.0116 | min=0.0504 max=0.0913
         : test loss mean=3.6780 ± 0.0160
         : individual accs = ['0.058140', '0.075422', '0.067630', '0.068775', '0.059888', '0.070912', '0.091343', '0.083697', '0.060845', '0.071545', '0.063481', '0.063916', '0.080625', '0.075054', '0.080454', '0.050633', '0.087647', '0.059049', '0.082027', '0.050388']
         : correct/total = [(240, 4128), (317, 4203), (276, 4081), (298, 4333), (245, 4091), (304, 4287), (383, 4193), (364, 4349), (255, 4191), (306, 4277), (263, 4143), (268, 4193), (330, 4093), (315, 4197), (326, 4052), (204, 4029), (364, 4153), (247, 4183), (335, 4084), (208, 4128)]
         : compromised: 0.0714, honest: 0.0697
Round 004: test acc mean=0.0894 ± 0.0304 | min=0.0496 max=0.1517
         : test loss mean=3.6694 ± 0.0158
         : individual accs = ['0.117975', '0.109208', '0.057584', '0.059081', '0.057932', '0.109167', '0.105175', '0.115889', '0.049630', '0.063128', '0.055998', '0.059623', '0.089421', '0.069097', '0.088105', '0.151651', '0.114134', '0.109730', '0.063663', '0.141957']
         : correct/total = [(487, 4128), (459, 4203), (235, 4081), (256, 4333), (237, 4091), (468, 4287), (441, 4193), (504, 4349), (208, 4191), (270, 4277), (232, 4143), (250, 4193), (366, 4093), (290, 4197), (357, 4052), (611, 4029), (474, 4153), (459, 4183), (260, 4084), (586, 4128)]
         : compromised: 0.0944, honest: 0.0882
Round 005: test acc mean=0.1054 ± 0.0378 | min=0.0628 max=0.1773
         : test loss mean=3.6586 ± 0.0171
         : individual accs = ['0.069767', '0.122056', '0.074001', '0.062774', '0.117820', '0.123163', '0.067732', '0.068521', '0.177285', '0.063596', '0.161236', '0.125209', '0.131688', '0.166548', '0.076259', '0.070241', '0.070551', '0.147502', '0.128061', '0.083333']
         : correct/total = [(288, 4128), (513, 4203), (302, 4081), (272, 4333), (482, 4091), (528, 4287), (284, 4193), (298, 4349), (743, 4191), (272, 4277), (668, 4143), (525, 4193), (539, 4093), (699, 4197), (309, 4052), (283, 4029), (293, 4153), (617, 4183), (523, 4084), (344, 4128)]
         : compromised: 0.1422, honest: 0.0962
Round 006: test acc mean=0.1052 ± 0.0345 | min=0.0434 max=0.1637
         : test loss mean=3.6415 ± 0.0169
         : individual accs = ['0.044574', '0.087319', '0.151679', '0.132703', '0.045710', '0.043387', '0.101359', '0.094045', '0.163684', '0.136778', '0.110548', '0.097782', '0.095040', '0.097927', '0.104640', '0.100769', '0.096797', '0.142003', '0.096229', '0.161579']
         : correct/total = [(184, 4128), (367, 4203), (619, 4081), (575, 4333), (187, 4091), (186, 4287), (425, 4193), (409, 4349), (686, 4191), (585, 4277), (458, 4143), (410, 4193), (389, 4093), (411, 4197), (424, 4052), (406, 4029), (402, 4153), (594, 4183), (393, 4084), (667, 4128)]
         : compromised: 0.0946, honest: 0.1079
Round 007: test acc mean=0.1542 ± 0.0593 | min=0.0896 max=0.2779
         : test loss mean=3.6005 ± 0.0183
         : individual accs = ['0.263808', '0.195813', '0.277873', '0.123702', '0.092642', '0.092139', '0.188171', '0.094504', '0.124075', '0.093056', '0.097755', '0.118292', '0.203030', '0.194901', '0.203850', '0.104492', '0.201782', '0.089649', '0.203477', '0.120397']
         : correct/total = [(1089, 4128), (823, 4203), (1134, 4081), (536, 4333), (379, 4091), (395, 4287), (789, 4193), (411, 4349), (520, 4191), (398, 4277), (405, 4143), (496, 4193), (831, 4093), (818, 4197), (826, 4052), (421, 4029), (838, 4153), (375, 4183), (831, 4084), (497, 4128)]
         : compromised: 0.1449, honest: 0.1565
Round 008: test acc mean=0.2041 ± 0.0269 | min=0.1532 max=0.2512
         : test loss mean=3.5105 ± 0.0206
         : individual accs = ['0.187258', '0.237449', '0.201176', '0.173321', '0.191885', '0.229998', '0.181254', '0.187169', '0.192555', '0.177461', '0.202752', '0.191033', '0.245297', '0.239218', '0.194965', '0.251179', '0.193595', '0.153239', '0.243879', '0.208091']
         : correct/total = [(773, 4128), (998, 4203), (821, 4081), (751, 4333), (785, 4091), (986, 4287), (760, 4193), (814, 4349), (807, 4191), (759, 4277), (840, 4143), (801, 4193), (1004, 4093), (1004, 4197), (790, 4052), (1012, 4029), (804, 4153), (641, 4183), (996, 4084), (859, 4128)]
         : compromised: 0.2169, honest: 0.2009
Round 009: test acc mean=0.2645 ± 0.0169 | min=0.2202 max=0.2899
         : test loss mean=3.2733 ± 0.0278
         : individual accs = ['0.252907', '0.270759', '0.289880', '0.247173', '0.281838', '0.268719', '0.259719', '0.244884', '0.220234', '0.258359', '0.263336', '0.274982', '0.280479', '0.271146', '0.275913', '0.284438', '0.271852', '0.237628', '0.276445', '0.258963']
         : correct/total = [(1044, 4128), (1138, 4203), (1183, 4081), (1071, 4333), (1153, 4091), (1152, 4287), (1089, 4193), (1065, 4349), (923, 4191), (1105, 4277), (1091, 4143), (1153, 4193), (1148, 4093), (1138, 4197), (1118, 4052), (1146, 4029), (1129, 4153), (994, 4183), (1129, 4084), (1069, 4128)]
         : compromised: 0.2645, honest: 0.2645
Round 010: test acc mean=0.3443 ± 0.0158 | min=0.3219 max=0.3746
         : test loss mean=2.8641 ± 0.0293
         : individual accs = ['0.333333', '0.331668', '0.347954', '0.333026', '0.349059', '0.347796', '0.350584', '0.367901', '0.338583', '0.346738', '0.323196', '0.369902', '0.334718', '0.321897', '0.374630', '0.373542', '0.336383', '0.325604', '0.340597', '0.338421']
         : correct/total = [(1376, 4128), (1394, 4203), (1420, 4081), (1443, 4333), (1428, 4091), (1491, 4287), (1470, 4193), (1600, 4349), (1419, 4191), (1483, 4277), (1339, 4143), (1551, 4193), (1370, 4093), (1351, 4197), (1518, 4052), (1505, 4029), (1397, 4153), (1362, 4183), (1391, 4084), (1397, 4128)]
         : compromised: 0.3325, honest: 0.3472

=== FINAL RESULTS ===
Dataset: femnist, Nodes: 20, Graph: erdos, Aggregation: krum
Attack: backdoor, 20.0% compromised
Final accuracy - Compromised: 0.3325, Honest: 0.3472
Overall test accuracy: mean=0.3443 ± 0.0158

=== BACKDOOR ATTACK SUCCESS RATE (ASR) ===
Target label: 0
Trigger size: 4x4
Overall ASR: 0.0338 ± 0.0318
Honest nodes ASR: 0.0288 ± 0.0176
Compromised nodes ASR: 0.0535 ± 0.0577
Note: Higher ASR indicates more successful backdoor attack
