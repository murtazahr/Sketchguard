Device: cuda
Seed: 987654321
Loading 36 LEAF FEMNIST train files...
LEAF FEMNIST train: 3597 users, 734463 samples
Loading 36 LEAF FEMNIST test files...
LEAF FEMNIST test: 3597 users, 83388 samples
Found 3597 train users, 3597 test users, 3597 common users
User sample counts range: 525 (max) to 17 (min)
Distributed ALL 3597 users across 20 clients
Users per client: 179 (with 17 clients getting +1 user)
Train partition sizes: [36360, 37070, 35957, 38262, 36024, 37732, 36921, 38328, 36867, 37683, 36507, 36915, 36007, 37001, 35681, 35453, 36585, 36801, 35964, 36345]
Test partition sizes: [4128, 4203, 4081, 4333, 4091, 4287, 4193, 4349, 4191, 4277, 4143, 4193, 4093, 4197, 4052, 4029, 4153, 4183, 4084, 4128]
  Client 0: 36360 train samples, 62 unique classes
  Client 1: 37070 train samples, 62 unique classes
  Client 2: 35957 train samples, 62 unique classes
  Client 3: 38262 train samples, 62 unique classes
  Client 4: 36024 train samples, 62 unique classes
  Client 5: 37732 train samples, 62 unique classes
  Client 6: 36921 train samples, 62 unique classes
  Client 7: 38328 train samples, 62 unique classes
  Client 8: 36867 train samples, 62 unique classes
  Client 9: 37683 train samples, 62 unique classes
  Client 10: 36507 train samples, 62 unique classes
  Client 11: 36915 train samples, 62 unique classes
  Client 12: 36007 train samples, 62 unique classes
  Client 13: 37001 train samples, 62 unique classes
  Client 14: 35681 train samples, 62 unique classes
  Client 15: 35453 train samples, 62 unique classes
  Client 16: 36585 train samples, 62 unique classes
  Client 17: 36801 train samples, 62 unique classes
  Client 18: 35964 train samples, 62 unique classes
  Client 19: 36345 train samples, 62 unique classes
Will sample 10000 samples per client per epoch
Graph: erdos, nodes: 20, edges: 48
Degree statistics: avg=4.80, min=2, max=7
Attack: Compromised 4/20 nodes: [5, 12, 13, 17]
Attack type: backdoor, lambda: 1.0
Backdoor target label: 0, trigger size: 4
Model variant: baseline
Model parameters: 6,603,710
Initial test acc across nodes: mean=0.0162 ± 0.0138
Backdoor attack: Created poisoned datasets for 4 compromised nodes
Round 001: test acc mean=0.4994 ± 0.1517 | min=0.0399 max=0.5860
         : test loss mean=31276.1811 ± 94096.4635
         : individual accs = ['0.542878', '0.555556', '0.546190', '0.534964', '0.553899', '0.039888', '0.543763', '0.556450', '0.586018', '0.541501', '0.508810', '0.546148', '0.553872', '0.584227', '0.055281', '0.554480', '0.533590', '0.540521', '0.581538', '0.527616']
         : correct/total = [(2241, 4128), (2335, 4203), (2229, 4081), (2318, 4333), (2266, 4091), (171, 4287), (2280, 4193), (2420, 4349), (2456, 4191), (2316, 4277), (2108, 4143), (2290, 4193), (2267, 4093), (2452, 4197), (224, 4052), (2234, 4029), (2216, 4153), (2261, 4183), (2375, 4084), (2178, 4128)]
         : compromised: 0.4296, honest: 0.5168
Round 002: test acc mean=0.6697 ± 0.2089 | min=0.0425 max=0.7548
         : test loss mean=151744953778854.8750 ± 460371862568350.1250
         : individual accs = ['0.742248', '0.743517', '0.734624', '0.745442', '0.711806', '0.042454', '0.754591', '0.734882', '0.731806', '0.737667', '0.741974', '0.754829', '0.725873', '0.751489', '0.044669', '0.735666', '0.735131', '0.745876', '0.745103', '0.733527']
         : correct/total = [(3064, 4128), (3125, 4203), (2998, 4081), (3230, 4333), (2912, 4091), (182, 4287), (3164, 4193), (3196, 4349), (3067, 4191), (3155, 4277), (3074, 4143), (3165, 4193), (2971, 4093), (3154, 4197), (181, 4052), (2964, 4029), (3053, 4153), (3120, 4183), (3043, 4084), (3028, 4128)]
         : compromised: 0.5664, honest: 0.6955
Round 003: test acc mean=0.7071 ± 0.2180 | min=0.0525 max=0.7935
         : test loss mean=504.8940 ± 1512.7100
         : individual accs = ['0.774225', '0.793481', '0.777015', '0.792292', '0.764605', '0.052484', '0.791319', '0.776040', '0.789549', '0.790274', '0.772146', '0.788695', '0.773271', '0.779366', '0.054788', '0.792753', '0.777992', '0.773368', '0.762243', '0.765746']
         : correct/total = [(3196, 4128), (3335, 4203), (3171, 4081), (3433, 4333), (3128, 4091), (225, 4287), (3318, 4193), (3375, 4349), (3309, 4191), (3380, 4277), (3199, 4143), (3307, 4193), (3165, 4093), (3271, 4197), (222, 4052), (3194, 4029), (3231, 4153), (3235, 4183), (3113, 4084), (3161, 4128)]
         : compromised: 0.5946, honest: 0.7352
Round 004: test acc mean=0.7268 ± 0.2245 | min=0.0525 max=0.8146
         : test loss mean=66.2856 ± 197.0291
         : individual accs = ['0.793362', '0.806805', '0.799069', '0.802446', '0.793693', '0.052484', '0.811591', '0.810991', '0.814603', '0.808978', '0.797248', '0.793942', '0.795260', '0.796283', '0.054788', '0.810375', '0.802312', '0.777193', '0.804848', '0.808866']
         : correct/total = [(3275, 4128), (3391, 4203), (3261, 4081), (3477, 4333), (3247, 4091), (225, 4287), (3403, 4193), (3527, 4349), (3414, 4191), (3460, 4277), (3303, 4143), (3329, 4193), (3255, 4093), (3342, 4197), (222, 4052), (3265, 4029), (3332, 4153), (3251, 4183), (3287, 4084), (3339, 4128)]
         : compromised: 0.6053, honest: 0.7571
Round 005: test acc mean=0.7385 ± 0.2284 | min=0.0525 max=0.8320
         : test loss mean=18.7478 ± 54.5955
         : individual accs = ['0.808866', '0.817035', '0.812056', '0.814216', '0.808849', '0.052484', '0.820415', '0.821108', '0.832021', '0.810381', '0.816799', '0.805628', '0.808209', '0.809149', '0.054788', '0.810871', '0.816277', '0.815922', '0.821499', '0.813711']
         : correct/total = [(3339, 4128), (3434, 4203), (3314, 4081), (3528, 4333), (3309, 4091), (225, 4287), (3440, 4193), (3571, 4349), (3487, 4191), (3466, 4277), (3384, 4143), (3378, 4193), (3308, 4093), (3396, 4197), (222, 4052), (3267, 4029), (3390, 4153), (3413, 4183), (3355, 4084), (3359, 4128)]
         : compromised: 0.6214, honest: 0.7678
Round 006: test acc mean=0.7445 ± 0.2305 | min=0.0525 max=0.8399
         : test loss mean=303582.3184 ± 1063802.6154
         : individual accs = ['0.815649', '0.820366', '0.826268', '0.827833', '0.820093', '0.052484', '0.823992', '0.826167', '0.839895', '0.836801', '0.813662', '0.819938', '0.810897', '0.810341', '0.054788', '0.810623', '0.836022', '0.803729', '0.825416', '0.814438']
         : correct/total = [(3367, 4128), (3448, 4203), (3372, 4081), (3587, 4333), (3355, 4091), (225, 4287), (3455, 4193), (3593, 4349), (3520, 4191), (3579, 4277), (3371, 4143), (3438, 4193), (3319, 4093), (3401, 4197), (222, 4052), (3266, 4029), (3472, 4153), (3362, 4183), (3371, 4084), (3362, 4128)]
         : compromised: 0.6194, honest: 0.7757
Round 007: test acc mean=0.7513 ± 0.2326 | min=0.0525 max=0.8384
         : test loss mean=8898986478.6631 ± 26698323470.9081
         : individual accs = ['0.829942', '0.833214', '0.823818', '0.836141', '0.819360', '0.052484', '0.829955', '0.832375', '0.835361', '0.830489', '0.825006', '0.829716', '0.828732', '0.833214', '0.054788', '0.830975', '0.822056', '0.816400', '0.838394', '0.822674']
         : correct/total = [(3426, 4128), (3502, 4203), (3362, 4081), (3623, 4333), (3352, 4091), (225, 4287), (3480, 4193), (3620, 4349), (3501, 4191), (3552, 4277), (3418, 4143), (3479, 4193), (3392, 4093), (3497, 4197), (222, 4052), (3348, 4029), (3414, 4153), (3415, 4183), (3424, 4084), (3396, 4128)]
         : compromised: 0.6327, honest: 0.7809
Round 008: test acc mean=0.7500 ± 0.2337 | min=0.0485 max=0.8413
         : test loss mean=260765.7145 ± 829854.4709
         : individual accs = ['0.817829', '0.835594', '0.829209', '0.841219', '0.815449', '0.048519', '0.836155', '0.834675', '0.841327', '0.841010', '0.827420', '0.823992', '0.824579', '0.827258', '0.050592', '0.835691', '0.812906', '0.832656', '0.829334', '0.795543']
         : correct/total = [(3376, 4128), (3512, 4203), (3384, 4081), (3645, 4333), (3336, 4091), (208, 4287), (3506, 4193), (3630, 4349), (3526, 4191), (3597, 4277), (3428, 4143), (3455, 4193), (3375, 4093), (3472, 4197), (205, 4052), (3367, 4029), (3376, 4153), (3483, 4183), (3387, 4084), (3284, 4128)]
         : compromised: 0.6333, honest: 0.7792
Round 009: test acc mean=0.7558 ± 0.2350 | min=0.0491 max=0.8482
         : test loss mean=572.7682 ± 2493.2690
         : individual accs = ['0.828004', '0.832025', '0.831904', '0.835218', '0.837937', '0.052951', '0.835917', '0.843872', '0.848246', '0.831658', '0.835144', '0.830670', '0.827999', '0.833929', '0.049112', '0.840407', '0.821093', '0.833612', '0.835211', '0.831880']
         : correct/total = [(3418, 4128), (3497, 4203), (3395, 4081), (3619, 4333), (3428, 4091), (227, 4287), (3505, 4193), (3670, 4349), (3555, 4191), (3557, 4277), (3460, 4143), (3483, 4193), (3389, 4093), (3500, 4197), (199, 4052), (3386, 4029), (3410, 4153), (3487, 4183), (3411, 4084), (3434, 4128)]
         : compromised: 0.6371, honest: 0.7855
Round 010: test acc mean=0.7583 ± 0.2359 | min=0.0506 max=0.8515
         : test loss mean=2283357.8575 ± 9947593.2362
         : individual accs = ['0.818556', '0.851535', '0.842441', '0.842603', '0.818871', '0.051318', '0.838779', '0.838584', '0.846815', '0.837737', '0.828868', '0.835679', '0.838749', '0.841553', '0.050592', '0.849839', '0.839152', '0.834090', '0.836435', '0.824128']
         : correct/total = [(3379, 4128), (3579, 4203), (3438, 4081), (3651, 4333), (3350, 4091), (220, 4287), (3517, 4193), (3647, 4349), (3549, 4191), (3583, 4277), (3434, 4143), (3504, 4193), (3433, 4093), (3532, 4197), (205, 4052), (3424, 4029), (3485, 4153), (3489, 4183), (3416, 4084), (3402, 4128)]
         : compromised: 0.6414, honest: 0.7875

=== FINAL RESULTS ===
Dataset: femnist, Nodes: 20, Graph: erdos, Aggregation: krum
Attack: backdoor, 20.0% compromised
Final accuracy - Compromised: 0.6414, Honest: 0.7875
Overall test accuracy: mean=0.7583 ± 0.2359

=== BACKDOOR ATTACK SUCCESS RATE (ASR) ===
Target label: 0
Trigger size: 4x4
Overall ASR: 0.0467 ± 0.0169
Honest nodes ASR: 0.0473 ± 0.0135
Compromised nodes ASR: 0.0443 ± 0.0262
Note: Higher ASR indicates more successful backdoor attack
