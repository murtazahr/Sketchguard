Device: cuda
Seed: 987654321
Loading 36 LEAF FEMNIST train files...
LEAF FEMNIST train: 3597 users, 734463 samples
Loading 36 LEAF FEMNIST test files...
LEAF FEMNIST test: 3597 users, 83388 samples
Found 3597 train users, 3597 test users, 3597 common users
User sample counts range: 525 (max) to 17 (min)
Distributed ALL 3597 users across 20 clients
Users per client: 179 (with 17 clients getting +1 user)
Train partition sizes: [36360, 37070, 35957, 38262, 36024, 37732, 36921, 38328, 36867, 37683, 36507, 36915, 36007, 37001, 35681, 35453, 36585, 36801, 35964, 36345]
Test partition sizes: [4128, 4203, 4081, 4333, 4091, 4287, 4193, 4349, 4191, 4277, 4143, 4193, 4093, 4197, 4052, 4029, 4153, 4183, 4084, 4128]
  Client 0: 36360 train samples, 62 unique classes
  Client 1: 37070 train samples, 62 unique classes
  Client 2: 35957 train samples, 62 unique classes
  Client 3: 38262 train samples, 62 unique classes
  Client 4: 36024 train samples, 62 unique classes
  Client 5: 37732 train samples, 62 unique classes
  Client 6: 36921 train samples, 62 unique classes
  Client 7: 38328 train samples, 62 unique classes
  Client 8: 36867 train samples, 62 unique classes
  Client 9: 37683 train samples, 62 unique classes
  Client 10: 36507 train samples, 62 unique classes
  Client 11: 36915 train samples, 62 unique classes
  Client 12: 36007 train samples, 62 unique classes
  Client 13: 37001 train samples, 62 unique classes
  Client 14: 35681 train samples, 62 unique classes
  Client 15: 35453 train samples, 62 unique classes
  Client 16: 36585 train samples, 62 unique classes
  Client 17: 36801 train samples, 62 unique classes
  Client 18: 35964 train samples, 62 unique classes
  Client 19: 36345 train samples, 62 unique classes
Will sample 4500 samples per client per epoch
Graph: erdos, nodes: 20, edges: 99
Degree statistics: avg=9.90, min=7, max=14
Attack: Compromised 6/20 nodes: [5, 12, 13, 14, 17, 18]
Attack type: backdoor, lambda: 1.0
Backdoor target label: 0, trigger size: 4
Model variant: baseline
Model parameters: 6,603,710
Initial test acc across nodes: mean=0.0168 ± 0.0139
Backdoor attack: Created poisoned datasets for 6 compromised nodes
Round 001: test acc mean=0.0533 ± 0.0136 | min=0.0036 max=0.0742
         : test loss mean=24617.5547 ± 107289.3552
         : individual accs = ['0.059593', '0.052344', '0.048272', '0.048465', '0.045710', '0.045253', '0.057000', '0.058174', '0.003579', '0.053776', '0.050447', '0.071309', '0.053750', '0.062426', '0.061204', '0.056590', '0.058271', '0.050203', '0.074192', '0.054506']
         : correct/total = [(246, 4128), (220, 4203), (197, 4081), (210, 4333), (187, 4091), (194, 4287), (239, 4193), (253, 4349), (15, 4191), (230, 4277), (209, 4143), (299, 4193), (220, 4093), (262, 4197), (248, 4052), (228, 4029), (242, 4153), (210, 4183), (303, 4084), (225, 4128)]
         : compromised: 0.0578, honest: 0.0513
Round 002: test acc mean=0.0546 ± 0.0132 | min=0.0434 max=0.0953
         : test loss mean=5703.6875 ± 24845.7427
         : individual accs = ['0.049176', '0.047109', '0.095320', '0.043388', '0.051088', '0.043387', '0.046745', '0.049207', '0.049630', '0.047463', '0.045619', '0.046983', '0.049841', '0.062426', '0.051579', '0.054852', '0.054418', '0.050203', '0.080558', '0.073643']
         : correct/total = [(203, 4128), (198, 4203), (389, 4081), (188, 4333), (209, 4091), (186, 4287), (196, 4193), (214, 4349), (208, 4191), (203, 4277), (189, 4143), (197, 4193), (204, 4093), (262, 4197), (209, 4052), (221, 4029), (226, 4153), (210, 4183), (329, 4084), (304, 4128)]
         : compromised: 0.0563, honest: 0.0539
Round 003: test acc mean=0.0529 ± 0.0079 | min=0.0351 max=0.0697
         : test loss mean=129105.1822 ± 562740.4240
         : individual accs = ['0.050872', '0.052819', '0.056114', '0.043850', '0.054021', '0.048752', '0.045791', '0.051736', '0.035075', '0.069675', '0.049240', '0.050083', '0.050574', '0.047177', '0.065893', '0.052619', '0.055141', '0.050681', '0.061459', '0.065891']
         : correct/total = [(210, 4128), (222, 4203), (229, 4081), (190, 4333), (221, 4091), (209, 4287), (192, 4193), (225, 4349), (147, 4191), (298, 4277), (204, 4143), (210, 4193), (207, 4093), (198, 4197), (267, 4052), (212, 4029), (229, 4153), (212, 4183), (251, 4084), (272, 4128)]
         : compromised: 0.0541, honest: 0.0524
Round 004: test acc mean=0.0773 ± 0.0328 | min=0.0480 max=0.1536
         : test loss mean=60053.8184 ± 261752.5596
         : individual accs = ['0.104651', '0.143231', '0.055869', '0.067851', '0.057932', '0.064847', '0.061531', '0.060934', '0.047960', '0.056582', '0.066860', '0.056761', '0.068898', '0.049797', '0.072557', '0.153636', '0.152902', '0.053789', '0.074437', '0.074128']
         : correct/total = [(432, 4128), (602, 4203), (228, 4081), (294, 4333), (237, 4091), (278, 4287), (258, 4193), (265, 4349), (201, 4191), (242, 4277), (277, 4143), (238, 4193), (282, 4093), (209, 4197), (294, 4052), (619, 4029), (635, 4153), (225, 4183), (304, 4084), (306, 4128)]
         : compromised: 0.0641, honest: 0.0829
Round 005: test acc mean=0.0888 ± 0.0323 | min=0.0422 max=0.1587
         : test loss mean=19039703.4505 ± 82992127.3545
         : individual accs = ['0.071948', '0.111111', '0.077187', '0.125087', '0.069176', '0.054350', '0.061293', '0.072890', '0.042233', '0.067103', '0.143374', '0.055330', '0.107256', '0.158685', '0.080207', '0.070985', '0.083554', '0.138178', '0.117777', '0.068314']
         : correct/total = [(297, 4128), (467, 4203), (315, 4081), (542, 4333), (283, 4091), (233, 4287), (257, 4193), (317, 4349), (177, 4191), (287, 4277), (594, 4143), (232, 4193), (439, 4093), (666, 4197), (325, 4052), (286, 4029), (347, 4153), (578, 4183), (481, 4084), (282, 4128)]
         : compromised: 0.1094, honest: 0.0800
Round 006: test acc mean=0.0883 ± 0.0381 | min=0.0437 max=0.1673
         : test loss mean=112169180117037645824.0000 ± 488934120709978980352.0000
         : individual accs = ['0.046754', '0.156317', '0.101201', '0.114701', '0.048399', '0.046186', '0.088958', '0.116808', '0.044619', '0.119710', '0.043688', '0.118769', '0.048375', '0.095544', '0.053801', '0.167287', '0.128823', '0.086063', '0.054114', '0.085271']
         : correct/total = [(193, 4128), (657, 4203), (413, 4081), (497, 4333), (198, 4091), (198, 4287), (373, 4193), (508, 4349), (187, 4191), (512, 4277), (181, 4143), (498, 4193), (198, 4093), (401, 4197), (218, 4052), (674, 4029), (535, 4153), (360, 4183), (221, 4084), (352, 4128)]
         : compromised: 0.0640, honest: 0.0987
Round 007: test acc mean=0.1338 ± 0.0654 | min=0.0453 max=0.2955
         : test loss mean=nan ± nan
         : individual accs = ['0.295543', '0.141328', '0.219799', '0.142626', '0.148863', '0.045253', '0.137849', '0.152449', '0.049630', '0.143559', '0.161719', '0.216790', '0.054239', '0.049083', '0.051826', '0.163812', '0.161088', '0.144155', '0.052889', '0.144138']
         : correct/total = [(1220, 4128), (594, 4203), (897, 4081), (618, 4333), (609, 4091), (194, 4287), (578, 4193), (663, 4349), (208, 4191), (614, 4277), (670, 4143), (909, 4193), (222, 4093), (206, 4197), (210, 4052), (660, 4029), (669, 4153), (603, 4183), (216, 4084), (595, 4128)]
         : compromised: 0.0662, honest: 0.1628
Round 008: test acc mean=0.1736 ± 0.0819 | min=0.0453 max=0.2501
         : test loss mean=nan ± nan
         : individual accs = ['0.241279', '0.241732', '0.231316', '0.202862', '0.234661', '0.045253', '0.205342', '0.208094', '0.049630', '0.206687', '0.241854', '0.203673', '0.054239', '0.049083', '0.051826', '0.232812', '0.220082', '0.250060', '0.052889', '0.248062']
         : correct/total = [(996, 4128), (1016, 4203), (944, 4081), (879, 4333), (960, 4091), (194, 4287), (861, 4193), (905, 4349), (208, 4191), (884, 4277), (1002, 4143), (854, 4193), (222, 4093), (206, 4197), (210, 4052), (938, 4029), (914, 4153), (1046, 4183), (216, 4084), (1024, 4128)]
         : compromised: 0.0839, honest: 0.2120
Round 009: test acc mean=0.2275 ± 0.1167 | min=0.0453 max=0.3328
         : test loss mean=nan ± nan
         : individual accs = ['0.294816', '0.318344', '0.332762', '0.285022', '0.330726', '0.045253', '0.286668', '0.296390', '0.049630', '0.301379', '0.290369', '0.293585', '0.054239', '0.049083', '0.051826', '0.320427', '0.305803', '0.311021', '0.052889', '0.279797']
         : correct/total = [(1217, 4128), (1338, 4203), (1358, 4081), (1235, 4333), (1353, 4091), (194, 4287), (1202, 4193), (1289, 4349), (208, 4191), (1289, 4277), (1203, 4143), (1231, 4193), (222, 4093), (206, 4197), (210, 4052), (1291, 4029), (1270, 4153), (1301, 4183), (216, 4084), (1155, 4128)]
         : compromised: 0.0941, honest: 0.2847
Round 010: test acc mean=0.2569 ± 0.1357 | min=0.0453 max=0.3619
         : test loss mean=nan ± nan
         : individual accs = ['0.358285', '0.356174', '0.354080', '0.319871', '0.358592', '0.045253', '0.338183', '0.344677', '0.049630', '0.334347', '0.361091', '0.361078', '0.054239', '0.049083', '0.051826', '0.361876', '0.333494', '0.328472', '0.052889', '0.324128']
         : correct/total = [(1479, 4128), (1497, 4203), (1445, 4081), (1386, 4333), (1467, 4091), (194, 4287), (1418, 4193), (1499, 4349), (208, 4191), (1430, 4277), (1496, 4143), (1514, 4193), (222, 4093), (206, 4197), (210, 4052), (1458, 4029), (1385, 4153), (1374, 4183), (216, 4084), (1338, 4128)]
         : compromised: 0.0970, honest: 0.3254

=== FINAL RESULTS ===
Dataset: femnist, Nodes: 20, Graph: erdos, Aggregation: krum
Attack: backdoor, 30.0% compromised
Final accuracy - Compromised: 0.0970, Honest: 0.3254
Overall test accuracy: mean=0.2569 ± 0.1357

=== BACKDOOR ATTACK SUCCESS RATE (ASR) ===
Target label: 0
Trigger size: 4x4
Overall ASR: 0.3438 ± 0.4309
Honest nodes ASR: 0.1329 ± 0.2436
Compromised nodes ASR: 0.8360 ± 0.3666
Note: Higher ASR indicates more successful backdoor attack
