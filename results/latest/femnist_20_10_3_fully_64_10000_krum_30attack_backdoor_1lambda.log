Device: cuda
Seed: 987654321
Loading 36 LEAF FEMNIST train files...
LEAF FEMNIST train: 3597 users, 734463 samples
Loading 36 LEAF FEMNIST test files...
LEAF FEMNIST test: 3597 users, 83388 samples
Found 3597 train users, 3597 test users, 3597 common users
User sample counts range: 525 (max) to 17 (min)
Distributed ALL 3597 users across 20 clients
Users per client: 179 (with 17 clients getting +1 user)
Train partition sizes: [36360, 37070, 35957, 38262, 36024, 37732, 36921, 38328, 36867, 37683, 36507, 36915, 36007, 37001, 35681, 35453, 36585, 36801, 35964, 36345]
Test partition sizes: [4128, 4203, 4081, 4333, 4091, 4287, 4193, 4349, 4191, 4277, 4143, 4193, 4093, 4197, 4052, 4029, 4153, 4183, 4084, 4128]
  Client 0: 36360 train samples, 62 unique classes
  Client 1: 37070 train samples, 62 unique classes
  Client 2: 35957 train samples, 62 unique classes
  Client 3: 38262 train samples, 62 unique classes
  Client 4: 36024 train samples, 62 unique classes
  Client 5: 37732 train samples, 62 unique classes
  Client 6: 36921 train samples, 62 unique classes
  Client 7: 38328 train samples, 62 unique classes
  Client 8: 36867 train samples, 62 unique classes
  Client 9: 37683 train samples, 62 unique classes
  Client 10: 36507 train samples, 62 unique classes
  Client 11: 36915 train samples, 62 unique classes
  Client 12: 36007 train samples, 62 unique classes
  Client 13: 37001 train samples, 62 unique classes
  Client 14: 35681 train samples, 62 unique classes
  Client 15: 35453 train samples, 62 unique classes
  Client 16: 36585 train samples, 62 unique classes
  Client 17: 36801 train samples, 62 unique classes
  Client 18: 35964 train samples, 62 unique classes
  Client 19: 36345 train samples, 62 unique classes
Will sample 10000 samples per client per epoch
Graph: fully, nodes: 20, edges: 190
Degree statistics: avg=19.00, min=19, max=19
Attack: Compromised 6/20 nodes: [5, 12, 13, 14, 17, 18]
Attack type: backdoor, lambda: 1.0
Backdoor target label: 0, trigger size: 4
Model variant: baseline
Model parameters: 6,603,710
Initial test acc across nodes: mean=0.0168 ± 0.0139
Backdoor attack: Created poisoned datasets for 6 compromised nodes
Round 001: test acc mean=0.5292 ± 0.0102 | min=0.5121 max=0.5531
         : test loss mean=1.7711 ± 0.0384
         : individual accs = ['0.533672', '0.533191', '0.531732', '0.514193', '0.531899', '0.553067', '0.512521', '0.544033', '0.523026', '0.526070', '0.522085', '0.540663', '0.534816', '0.519419', '0.532083', '0.524696', '0.533349', '0.525221', '0.535994', '0.512112']
         : correct/total = [(2203, 4128), (2241, 4203), (2170, 4081), (2228, 4333), (2176, 4091), (2371, 4287), (2149, 4193), (2366, 4349), (2192, 4191), (2250, 4277), (2163, 4143), (2267, 4193), (2189, 4093), (2180, 4197), (2156, 4052), (2114, 4029), (2215, 4153), (2197, 4183), (2189, 4084), (2114, 4128)]
         : compromised: 0.5334, honest: 0.5274
Round 002: test acc mean=0.7408 ± 0.0076 | min=0.7294 max=0.7552
         : test loss mean=0.8528 ± 0.0280
         : individual accs = ['0.748304', '0.755175', '0.747611', '0.729748', '0.748961', '0.745510', '0.737181', '0.744309', '0.739203', '0.750058', '0.734733', '0.735989', '0.751527', '0.734572', '0.735686', '0.733681', '0.738021', '0.729381', '0.744368', '0.732316']
         : correct/total = [(3089, 4128), (3174, 4203), (3051, 4081), (3162, 4333), (3064, 4091), (3196, 4287), (3091, 4193), (3237, 4349), (3098, 4191), (3208, 4277), (3044, 4143), (3086, 4193), (3076, 4093), (3083, 4197), (2981, 4052), (2956, 4029), (3065, 4153), (3051, 4183), (3040, 4084), (3023, 4128)]
         : compromised: 0.7402, honest: 0.7411
Round 003: test acc mean=0.7839 ± 0.0083 | min=0.7672 max=0.7954
         : test loss mean=0.7133 ± 0.0275
         : individual accs = ['0.790455', '0.795384', '0.793923', '0.777521', '0.792227', '0.788430', '0.787741', '0.792596', '0.780482', '0.791910', '0.775766', '0.773432', '0.784754', '0.780558', '0.778381', '0.778853', '0.793884', '0.770261', '0.785015', '0.767200']
         : correct/total = [(3263, 4128), (3343, 4203), (3240, 4081), (3369, 4333), (3241, 4091), (3380, 4287), (3303, 4193), (3447, 4349), (3271, 4191), (3387, 4277), (3214, 4143), (3243, 4193), (3212, 4093), (3276, 4197), (3154, 4052), (3138, 4029), (3297, 4153), (3222, 4183), (3206, 4084), (3167, 4128)]
         : compromised: 0.7812, honest: 0.7851
Round 004: test acc mean=0.7960 ± 0.0092 | min=0.7810 max=0.8130
         : test loss mean=0.6372 ± 0.0283
         : individual accs = ['0.798934', '0.812991', '0.805930', '0.792753', '0.809826', '0.798227', '0.786788', '0.803863', '0.787402', '0.810147', '0.781077', '0.791080', '0.798436', '0.793900', '0.790721', '0.784810', '0.801830', '0.796318', '0.793585', '0.781008']
         : correct/total = [(3298, 4128), (3417, 4203), (3289, 4081), (3435, 4333), (3313, 4091), (3422, 4287), (3299, 4193), (3496, 4349), (3300, 4191), (3465, 4277), (3236, 4143), (3317, 4193), (3268, 4093), (3332, 4197), (3204, 4052), (3162, 4029), (3330, 4153), (3331, 4183), (3241, 4084), (3224, 4128)]
         : compromised: 0.7952, honest: 0.7963
Round 005: test acc mean=0.8073 ± 0.0086 | min=0.7939 max=0.8251
         : test loss mean=0.6098 ± 0.0303
         : individual accs = ['0.809835', '0.825125', '0.814261', '0.809601', '0.822048', '0.805925', '0.801574', '0.808232', '0.801002', '0.816460', '0.793869', '0.798712', '0.805766', '0.800334', '0.804047', '0.801191', '0.811702', '0.801339', '0.820274', '0.794816']
         : correct/total = [(3343, 4128), (3468, 4203), (3323, 4081), (3508, 4333), (3363, 4091), (3455, 4287), (3361, 4193), (3515, 4349), (3357, 4191), (3492, 4277), (3289, 4143), (3349, 4193), (3298, 4093), (3359, 4197), (3258, 4052), (3228, 4029), (3371, 4153), (3352, 4183), (3350, 4084), (3281, 4128)]
         : compromised: 0.8063, honest: 0.8077
Round 006: test acc mean=0.8165 ± 0.0073 | min=0.8025 max=0.8365
         : test loss mean=0.5834 ± 0.0272
         : individual accs = ['0.818556', '0.836545', '0.820142', '0.816755', '0.825471', '0.821554', '0.814214', '0.811911', '0.815796', '0.824176', '0.805455', '0.815407', '0.818226', '0.813200', '0.807996', '0.811616', '0.817481', '0.802534', '0.820764', '0.812016']
         : correct/total = [(3379, 4128), (3516, 4203), (3347, 4081), (3539, 4333), (3377, 4091), (3522, 4287), (3414, 4193), (3531, 4349), (3419, 4191), (3525, 4277), (3337, 4143), (3419, 4193), (3349, 4093), (3413, 4197), (3274, 4052), (3270, 4029), (3395, 4153), (3357, 4183), (3352, 4084), (3352, 4128)]
         : compromised: 0.8140, honest: 0.8175
Round 007: test acc mean=0.8159 ± 0.0080 | min=0.8028 max=0.8299
         : test loss mean=0.5698 ± 0.0306
         : individual accs = ['0.818556', '0.829883', '0.822838', '0.811447', '0.825471', '0.825286', '0.808490', '0.819039', '0.814126', '0.819733', '0.805214', '0.804436', '0.821402', '0.810817', '0.811698', '0.810127', '0.819648', '0.808033', '0.828110', '0.802810']
         : correct/total = [(3379, 4128), (3488, 4203), (3358, 4081), (3516, 4333), (3377, 4091), (3538, 4287), (3390, 4193), (3562, 4349), (3412, 4191), (3506, 4277), (3336, 4143), (3373, 4193), (3362, 4093), (3403, 4197), (3289, 4052), (3264, 4029), (3404, 4153), (3380, 4183), (3382, 4084), (3314, 4128)]
         : compromised: 0.8176, honest: 0.8151
Round 008: test acc mean=0.8268 ± 0.0068 | min=0.8151 max=0.8413
         : test loss mean=0.5395 ± 0.0268
         : individual accs = ['0.821221', '0.841304', '0.834599', '0.824602', '0.834270', '0.828551', '0.823515', '0.829846', '0.823908', '0.834931', '0.816558', '0.823038', '0.830198', '0.827972', '0.822557', '0.815091', '0.835781', '0.821898', '0.827865', '0.819041']
         : correct/total = [(3390, 4128), (3536, 4203), (3406, 4081), (3573, 4333), (3413, 4091), (3552, 4287), (3453, 4193), (3609, 4349), (3453, 4191), (3571, 4277), (3383, 4143), (3451, 4193), (3398, 4093), (3475, 4197), (3333, 4052), (3284, 4029), (3471, 4153), (3438, 4183), (3381, 4084), (3381, 4128)]
         : compromised: 0.8265, honest: 0.8270
Round 009: test acc mean=0.8278 ± 0.0075 | min=0.8141 max=0.8453
         : test loss mean=0.5349 ± 0.0293
         : individual accs = ['0.829942', '0.845349', '0.835089', '0.829448', '0.834515', '0.829018', '0.821130', '0.829386', '0.827010', '0.830489', '0.814144', '0.819699', '0.825800', '0.820586', '0.828727', '0.820303', '0.836985', '0.827158', '0.835945', '0.815649']
         : correct/total = [(3426, 4128), (3553, 4203), (3408, 4081), (3594, 4333), (3414, 4091), (3554, 4287), (3443, 4193), (3607, 4349), (3466, 4191), (3552, 4277), (3373, 4143), (3437, 4193), (3380, 4093), (3444, 4197), (3358, 4052), (3305, 4029), (3476, 4153), (3460, 4183), (3414, 4084), (3367, 4128)]
         : compromised: 0.8279, honest: 0.8278
Round 010: test acc mean=0.8254 ± 0.0075 | min=0.8118 max=0.8420
         : test loss mean=0.5739 ± 0.0311
         : individual accs = ['0.827762', '0.842018', '0.835580', '0.819525', '0.835737', '0.830884', '0.821369', '0.829156', '0.820806', '0.833061', '0.815834', '0.811829', '0.828976', '0.821777', '0.817621', '0.818814', '0.822297', '0.826201', '0.830069', '0.819525']
         : correct/total = [(3417, 4128), (3539, 4203), (3410, 4081), (3551, 4333), (3419, 4091), (3562, 4287), (3444, 4193), (3606, 4349), (3440, 4191), (3563, 4277), (3380, 4143), (3404, 4193), (3393, 4093), (3449, 4197), (3313, 4052), (3299, 4029), (3415, 4153), (3456, 4183), (3390, 4084), (3383, 4128)]
         : compromised: 0.8259, honest: 0.8252

=== FINAL RESULTS ===
Dataset: femnist, Nodes: 20, Graph: fully, Aggregation: krum
Attack: backdoor, 30.0% compromised
Final accuracy - Compromised: 0.8259, Honest: 0.8252
Overall test accuracy: mean=0.8254 ± 0.0075

=== BACKDOOR ATTACK SUCCESS RATE (ASR) ===
Target label: 0
Trigger size: 4x4
Overall ASR: 0.0593 ± 0.0034
Honest nodes ASR: 0.0584 ± 0.0034
Compromised nodes ASR: 0.0613 ± 0.0021
Note: Higher ASR indicates more successful backdoor attack
