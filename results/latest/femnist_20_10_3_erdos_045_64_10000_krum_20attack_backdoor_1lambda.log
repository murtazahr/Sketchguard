Device: cuda
Seed: 987654321
Loading 36 LEAF FEMNIST train files...
LEAF FEMNIST train: 3597 users, 734463 samples
Loading 36 LEAF FEMNIST test files...
LEAF FEMNIST test: 3597 users, 83388 samples
Found 3597 train users, 3597 test users, 3597 common users
User sample counts range: 525 (max) to 17 (min)
Distributed ALL 3597 users across 20 clients
Users per client: 179 (with 17 clients getting +1 user)
Train partition sizes: [36360, 37070, 35957, 38262, 36024, 37732, 36921, 38328, 36867, 37683, 36507, 36915, 36007, 37001, 35681, 35453, 36585, 36801, 35964, 36345]
Test partition sizes: [4128, 4203, 4081, 4333, 4091, 4287, 4193, 4349, 4191, 4277, 4143, 4193, 4093, 4197, 4052, 4029, 4153, 4183, 4084, 4128]
  Client 0: 36360 train samples, 62 unique classes
  Client 1: 37070 train samples, 62 unique classes
  Client 2: 35957 train samples, 62 unique classes
  Client 3: 38262 train samples, 62 unique classes
  Client 4: 36024 train samples, 62 unique classes
  Client 5: 37732 train samples, 62 unique classes
  Client 6: 36921 train samples, 62 unique classes
  Client 7: 38328 train samples, 62 unique classes
  Client 8: 36867 train samples, 62 unique classes
  Client 9: 37683 train samples, 62 unique classes
  Client 10: 36507 train samples, 62 unique classes
  Client 11: 36915 train samples, 62 unique classes
  Client 12: 36007 train samples, 62 unique classes
  Client 13: 37001 train samples, 62 unique classes
  Client 14: 35681 train samples, 62 unique classes
  Client 15: 35453 train samples, 62 unique classes
  Client 16: 36585 train samples, 62 unique classes
  Client 17: 36801 train samples, 62 unique classes
  Client 18: 35964 train samples, 62 unique classes
  Client 19: 36345 train samples, 62 unique classes
Will sample 10000 samples per client per epoch
Graph: erdos, nodes: 20, edges: 99
Degree statistics: avg=9.90, min=7, max=14
Attack: Compromised 4/20 nodes: [5, 12, 13, 17]
Attack type: backdoor, lambda: 1.0
Backdoor target label: 0, trigger size: 4
Model variant: baseline
Model parameters: 6,603,710
Initial test acc across nodes: mean=0.0162 ± 0.0138
Backdoor attack: Created poisoned datasets for 4 compromised nodes
Round 001: test acc mean=0.5542 ± 0.0135 | min=0.5276 max=0.5776
         : test loss mean=1.6705 ± 0.0411
         : individual accs = ['0.553779', '0.564121', '0.546190', '0.555504', '0.553899', '0.577560', '0.543763', '0.556450', '0.570031', '0.540566', '0.535602', '0.546148', '0.553872', '0.571599', '0.566140', '0.554480', '0.533590', '0.558929', '0.573213', '0.527616']
         : correct/total = [(2286, 4128), (2371, 4203), (2229, 4081), (2407, 4333), (2266, 4091), (2476, 4287), (2280, 4193), (2420, 4349), (2389, 4191), (2312, 4277), (2219, 4143), (2290, 4193), (2267, 4093), (2399, 4197), (2294, 4052), (2234, 4029), (2216, 4153), (2338, 4183), (2341, 4084), (2178, 4128)]
         : compromised: 0.5655, honest: 0.5513
Round 002: test acc mean=0.7366 ± 0.0118 | min=0.7075 max=0.7542
         : test loss mean=0.8939 ± 0.0260
         : individual accs = ['0.730620', '0.743517', '0.734869', '0.723748', '0.711806', '0.750175', '0.746005', '0.744309', '0.707468', '0.745850', '0.732561', '0.737896', '0.741510', '0.735764', '0.754195', '0.741871', '0.726944', '0.732967', '0.750000', '0.739341']
         : correct/total = [(3016, 4128), (3125, 4203), (2999, 4081), (3136, 4333), (2912, 4091), (3216, 4287), (3128, 4193), (3237, 4349), (2965, 4191), (3190, 4277), (3035, 4143), (3094, 4193), (3035, 4093), (3088, 4197), (3056, 4052), (2989, 4029), (3019, 4153), (3066, 4183), (3063, 4084), (3052, 4128)]
         : compromised: 0.7401, honest: 0.7357
Round 003: test acc mean=0.7707 ± 0.0088 | min=0.7558 max=0.7871
         : test loss mean=0.7329 ± 0.0266
         : individual accs = ['0.772529', '0.768499', '0.765499', '0.768290', '0.762161', '0.774668', '0.780110', '0.787077', '0.783584', '0.759177', '0.757664', '0.769616', '0.771317', '0.755778', '0.774926', '0.759742', '0.771009', '0.769543', '0.779138', '0.783915']
         : correct/total = [(3189, 4128), (3230, 4203), (3124, 4081), (3329, 4333), (3118, 4091), (3321, 4287), (3271, 4193), (3423, 4349), (3284, 4191), (3247, 4277), (3139, 4143), (3227, 4193), (3157, 4093), (3172, 4197), (3140, 4052), (3061, 4029), (3202, 4153), (3219, 4183), (3182, 4084), (3236, 4128)]
         : compromised: 0.7678, honest: 0.7714
Round 004: test acc mean=0.7989 ± 0.0085 | min=0.7734 max=0.8173
         : test loss mean=0.6274 ± 0.0288
         : individual accs = ['0.796269', '0.817273', '0.803725', '0.792523', '0.785627', '0.800560', '0.800859', '0.798344', '0.803865', '0.802899', '0.798214', '0.798474', '0.796726', '0.805575', '0.806022', '0.800695', '0.801348', '0.773368', '0.803134', '0.793120']
         : correct/total = [(3287, 4128), (3435, 4203), (3280, 4081), (3434, 4333), (3214, 4091), (3432, 4287), (3358, 4193), (3472, 4349), (3369, 4191), (3434, 4277), (3307, 4143), (3348, 4193), (3261, 4093), (3381, 4197), (3266, 4052), (3226, 4029), (3328, 4153), (3235, 4183), (3280, 4084), (3274, 4128)]
         : compromised: 0.7941, honest: 0.8001
Round 005: test acc mean=0.8057 ± 0.0077 | min=0.7917 max=0.8169
         : test loss mean=0.5985 ± 0.0224
         : individual accs = ['0.793605', '0.816322', '0.816712', '0.808678', '0.816915', '0.814322', '0.809444', '0.803863', '0.805297', '0.807575', '0.791697', '0.807775', '0.802590', '0.800572', '0.792942', '0.807645', '0.798941', '0.815443', '0.800930', '0.802810']
         : correct/total = [(3276, 4128), (3431, 4203), (3333, 4081), (3504, 4333), (3342, 4091), (3491, 4287), (3394, 4193), (3496, 4349), (3375, 4191), (3454, 4277), (3280, 4143), (3387, 4193), (3285, 4093), (3360, 4197), (3213, 4052), (3254, 4029), (3318, 4153), (3411, 4183), (3271, 4084), (3314, 4128)]
         : compromised: 0.8082, honest: 0.8051
Round 006: test acc mean=0.8215 ± 0.0093 | min=0.7978 max=0.8373
         : test loss mean=0.5504 ± 0.0268
         : individual accs = ['0.810078', '0.836069', '0.811321', '0.822756', '0.797849', '0.824586', '0.828285', '0.817429', '0.837270', '0.825345', '0.813903', '0.816599', '0.826289', '0.826543', '0.830701', '0.825019', '0.816759', '0.820225', '0.829824', '0.813953']
         : correct/total = [(3344, 4128), (3514, 4203), (3311, 4081), (3565, 4333), (3264, 4091), (3535, 4287), (3473, 4193), (3555, 4349), (3509, 4191), (3530, 4277), (3372, 4143), (3424, 4193), (3382, 4093), (3469, 4197), (3366, 4052), (3324, 4029), (3392, 4153), (3431, 4183), (3389, 4084), (3360, 4128)]
         : compromised: 0.8244, honest: 0.8208
Round 007: test acc mean=0.8273 ± 0.0071 | min=0.8113 max=0.8389
         : test loss mean=0.5309 ± 0.0237
         : individual accs = ['0.824855', '0.838925', '0.824798', '0.832910', '0.815937', '0.828785', '0.828762', '0.831456', '0.827487', '0.831892', '0.818489', '0.823754', '0.821402', '0.833214', '0.829220', '0.834450', '0.829280', '0.820942', '0.838639', '0.811289']
         : correct/total = [(3405, 4128), (3526, 4203), (3366, 4081), (3609, 4333), (3338, 4091), (3553, 4287), (3475, 4193), (3616, 4349), (3468, 4191), (3558, 4277), (3391, 4143), (3454, 4193), (3362, 4093), (3497, 4197), (3360, 4052), (3362, 4029), (3444, 4153), (3434, 4183), (3425, 4084), (3349, 4128)]
         : compromised: 0.8261, honest: 0.8276
Round 008: test acc mean=0.8298 ± 0.0066 | min=0.8139 max=0.8410
         : test loss mean=0.5143 ± 0.0224
         : individual accs = ['0.823159', '0.830359', '0.828963', '0.840988', '0.820826', '0.829484', '0.834725', '0.840423', '0.834407', '0.835165', '0.813903', '0.825423', '0.826777', '0.829402', '0.825271', '0.834698', '0.833614', '0.833134', '0.834231', '0.821705']
         : correct/total = [(3398, 4128), (3490, 4203), (3383, 4081), (3644, 4333), (3358, 4091), (3556, 4287), (3500, 4193), (3655, 4349), (3497, 4191), (3572, 4277), (3372, 4143), (3461, 4193), (3384, 4093), (3481, 4197), (3344, 4052), (3363, 4029), (3462, 4153), (3485, 4183), (3407, 4084), (3392, 4128)]
         : compromised: 0.8297, honest: 0.8299
Round 009: test acc mean=0.8305 ± 0.0071 | min=0.8135 max=0.8437
         : test loss mean=0.5101 ± 0.0198
         : individual accs = ['0.824612', '0.825601', '0.832884', '0.829910', '0.822048', '0.838815', '0.829001', '0.841573', '0.843713', '0.826280', '0.837557', '0.831386', '0.822135', '0.835359', '0.830207', '0.827749', '0.828798', '0.833612', '0.835455', '0.813469']
         : correct/total = [(3404, 4128), (3470, 4203), (3399, 4081), (3596, 4333), (3363, 4091), (3596, 4287), (3476, 4193), (3660, 4349), (3536, 4191), (3534, 4277), (3470, 4143), (3486, 4193), (3365, 4093), (3506, 4197), (3364, 4052), (3335, 4029), (3442, 4153), (3487, 4183), (3412, 4084), (3358, 4128)]
         : compromised: 0.8325, honest: 0.8300
Round 010: test acc mean=0.8292 ± 0.0080 | min=0.8162 max=0.8416
         : test loss mean=0.5123 ± 0.0225
         : individual accs = ['0.820494', '0.836307', '0.816222', '0.822986', '0.821071', '0.829251', '0.841402', '0.841573', '0.825340', '0.838204', '0.820420', '0.829478', '0.833618', '0.823207', '0.838105', '0.835443', '0.827113', '0.836720', '0.831048', '0.816618']
         : correct/total = [(3387, 4128), (3515, 4203), (3331, 4081), (3566, 4333), (3359, 4091), (3555, 4287), (3528, 4193), (3660, 4349), (3459, 4191), (3585, 4277), (3399, 4143), (3478, 4193), (3412, 4093), (3455, 4197), (3396, 4052), (3366, 4029), (3435, 4153), (3500, 4183), (3394, 4084), (3371, 4128)]
         : compromised: 0.8307, honest: 0.8289

=== FINAL RESULTS ===
Dataset: femnist, Nodes: 20, Graph: erdos, Aggregation: krum
Attack: backdoor, 20.0% compromised
Final accuracy - Compromised: 0.8307, Honest: 0.8289
Overall test accuracy: mean=0.8292 ± 0.0080

=== BACKDOOR ATTACK SUCCESS RATE (ASR) ===
Target label: 0
Trigger size: 4x4
Overall ASR: 0.0581 ± 0.0115
Honest nodes ASR: 0.0572 ± 0.0121
Compromised nodes ASR: 0.0617 ± 0.0081
Note: Higher ASR indicates more successful backdoor attack
