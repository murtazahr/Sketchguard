Device: cuda
Seed: 987654321
Loading 36 LEAF FEMNIST train files...
LEAF FEMNIST train: 3597 users, 734463 samples
Loading 36 LEAF FEMNIST test files...
LEAF FEMNIST test: 3597 users, 83388 samples
Found 3597 train users, 3597 test users, 3597 common users
User sample counts range: 525 (max) to 17 (min)
Distributed ALL 3597 users across 20 clients
Users per client: 179 (with 17 clients getting +1 user)
Train partition sizes: [36360, 37070, 35957, 38262, 36024, 37732, 36921, 38328, 36867, 37683, 36507, 36915, 36007, 37001, 35681, 35453, 36585, 36801, 35964, 36345]
Test partition sizes: [4128, 4203, 4081, 4333, 4091, 4287, 4193, 4349, 4191, 4277, 4143, 4193, 4093, 4197, 4052, 4029, 4153, 4183, 4084, 4128]
  Client 0: 36360 train samples, 62 unique classes
  Client 1: 37070 train samples, 62 unique classes
  Client 2: 35957 train samples, 62 unique classes
  Client 3: 38262 train samples, 62 unique classes
  Client 4: 36024 train samples, 62 unique classes
  Client 5: 37732 train samples, 62 unique classes
  Client 6: 36921 train samples, 62 unique classes
  Client 7: 38328 train samples, 62 unique classes
  Client 8: 36867 train samples, 62 unique classes
  Client 9: 37683 train samples, 62 unique classes
  Client 10: 36507 train samples, 62 unique classes
  Client 11: 36915 train samples, 62 unique classes
  Client 12: 36007 train samples, 62 unique classes
  Client 13: 37001 train samples, 62 unique classes
  Client 14: 35681 train samples, 62 unique classes
  Client 15: 35453 train samples, 62 unique classes
  Client 16: 36585 train samples, 62 unique classes
  Client 17: 36801 train samples, 62 unique classes
  Client 18: 35964 train samples, 62 unique classes
  Client 19: 36345 train samples, 62 unique classes
Will sample 10000 samples per client per epoch
Graph: erdos, nodes: 20, edges: 48
Degree statistics: avg=4.80, min=2, max=7
Attack: Compromised 2/20 nodes: [5, 13]
Attack type: backdoor, lambda: 1.0
Backdoor target label: 0, trigger size: 4
Model variant: baseline
Model parameters: 6,603,710
Initial test acc across nodes: mean=0.0162 ± 0.0138
Backdoor attack: Created poisoned datasets for 2 compromised nodes
Round 001: test acc mean=0.5487 ± 0.0209 | min=0.5088 max=0.5876
         : test loss mean=1.6889 ± 0.0799
         : individual accs = ['0.538275', '0.555556', '0.546190', '0.534964', '0.553899', '0.554934', '0.539232', '0.539204', '0.586018', '0.541501', '0.508810', '0.546148', '0.549230', '0.584227', '0.587611', '0.531646', '0.526848', '0.540521', '0.581538', '0.527616']
         : correct/total = [(2222, 4128), (2335, 4203), (2229, 4081), (2318, 4333), (2266, 4091), (2379, 4287), (2261, 4193), (2345, 4349), (2456, 4191), (2316, 4277), (2108, 4143), (2290, 4193), (2248, 4093), (2452, 4197), (2381, 4052), (2142, 4029), (2188, 4153), (2261, 4183), (2375, 4084), (2178, 4128)]
         : compromised: 0.5696, honest: 0.5464
Round 002: test acc mean=0.7350 ± 0.0094 | min=0.7111 max=0.7500
         : test loss mean=0.8774 ± 0.0320
         : individual accs = ['0.727713', '0.743517', '0.734624', '0.745442', '0.711073', '0.735946', '0.731219', '0.745459', '0.731806', '0.737667', '0.741974', '0.734081', '0.742976', '0.728377', '0.750000', '0.729213', '0.717794', '0.733206', '0.745103', '0.733527']
         : correct/total = [(3004, 4128), (3125, 4203), (2998, 4081), (3230, 4333), (2909, 4091), (3155, 4287), (3066, 4193), (3242, 4349), (3067, 4191), (3155, 4277), (3074, 4143), (3078, 4193), (3041, 4093), (3057, 4197), (3039, 4052), (2938, 4029), (2981, 4153), (3067, 4183), (3043, 4084), (3028, 4128)]
         : compromised: 0.7322, honest: 0.7354
Round 003: test acc mean=0.7772 ± 0.0093 | min=0.7577 max=0.7923
         : test loss mean=0.7133 ± 0.0350
         : individual accs = ['0.775436', '0.783726', '0.772115', '0.792292', '0.768027', '0.774668', '0.776055', '0.785008', '0.779766', '0.790274', '0.757664', '0.788695', '0.783289', '0.768644', '0.775420', '0.788037', '0.779196', '0.776954', '0.762243', '0.765746']
         : correct/total = [(3201, 4128), (3294, 4203), (3151, 4081), (3433, 4333), (3142, 4091), (3321, 4287), (3254, 4193), (3414, 4349), (3268, 4191), (3380, 4277), (3139, 4143), (3307, 4193), (3206, 4093), (3226, 4197), (3142, 4052), (3175, 4029), (3236, 4153), (3250, 4183), (3113, 4084), (3161, 4128)]
         : compromised: 0.7717, honest: 0.7778
Round 004: test acc mean=0.8025 ± 0.0096 | min=0.7881 max=0.8189
         : test loss mean=0.6269 ± 0.0274
         : individual accs = ['0.797723', '0.818939', '0.805195', '0.802446', '0.788805', '0.798227', '0.799666', '0.814670', '0.816034', '0.808978', '0.788076', '0.796327', '0.816516', '0.812962', '0.797878', '0.805907', '0.792921', '0.790103', '0.807542', '0.791909']
         : correct/total = [(3293, 4128), (3442, 4203), (3286, 4081), (3477, 4333), (3227, 4091), (3422, 4287), (3353, 4193), (3543, 4349), (3420, 4191), (3460, 4277), (3265, 4143), (3339, 4193), (3342, 4093), (3412, 4197), (3233, 4052), (3247, 4029), (3293, 4153), (3305, 4183), (3298, 4084), (3269, 4128)]
         : compromised: 0.8056, honest: 0.8022
Round 005: test acc mean=0.8104 ± 0.0074 | min=0.7938 max=0.8230
         : test loss mean=0.5872 ± 0.0209
         : individual accs = ['0.793847', '0.821318', '0.813036', '0.814216', '0.817160', '0.803592', '0.809444', '0.818349', '0.822954', '0.810381', '0.804490', '0.804674', '0.812607', '0.808435', '0.812685', '0.810127', '0.807609', '0.809228', '0.795544', '0.818072']
         : correct/total = [(3277, 4128), (3452, 4203), (3318, 4081), (3528, 4333), (3343, 4091), (3445, 4287), (3394, 4193), (3559, 4349), (3449, 4191), (3466, 4277), (3333, 4143), (3374, 4193), (3326, 4093), (3393, 4197), (3293, 4052), (3264, 4029), (3354, 4153), (3385, 4183), (3249, 4084), (3377, 4128)]
         : compromised: 0.8060, honest: 0.8109
Round 006: test acc mean=0.8198 ± 0.0083 | min=0.8047 max=0.8368
         : test loss mean=0.5591 ± 0.0280
         : individual accs = ['0.813469', '0.823935', '0.811076', '0.827833', '0.814960', '0.826685', '0.818984', '0.824097', '0.811024', '0.836801', '0.804731', '0.813499', '0.805033', '0.825351', '0.825765', '0.814594', '0.824464', '0.830983', '0.820029', '0.822917']
         : correct/total = [(3358, 4128), (3463, 4203), (3310, 4081), (3587, 4333), (3334, 4091), (3544, 4287), (3434, 4193), (3584, 4349), (3399, 4191), (3579, 4277), (3334, 4143), (3411, 4193), (3295, 4093), (3464, 4197), (3346, 4052), (3282, 4029), (3424, 4153), (3476, 4183), (3349, 4084), (3397, 4128)]
         : compromised: 0.8260, honest: 0.8191
Round 007: test acc mean=0.8266 ± 0.0091 | min=0.8028 max=0.8368
         : test loss mean=0.5308 ± 0.0245
         : individual accs = ['0.815649', '0.831549', '0.828473', '0.836141', '0.822537', '0.826919', '0.830432', '0.834905', '0.836077', '0.830489', '0.802800', '0.821369', '0.836795', '0.825590', '0.832922', '0.831968', '0.830966', '0.817834', '0.830558', '0.808140']
         : correct/total = [(3367, 4128), (3495, 4203), (3381, 4081), (3623, 4333), (3365, 4091), (3545, 4287), (3482, 4193), (3631, 4349), (3504, 4191), (3552, 4277), (3326, 4143), (3444, 4193), (3425, 4093), (3465, 4197), (3375, 4052), (3352, 4029), (3451, 4153), (3421, 4183), (3392, 4084), (3336, 4128)]
         : compromised: 0.8263, honest: 0.8266
Round 008: test acc mean=0.8255 ± 0.0122 | min=0.7980 max=0.8412
         : test loss mean=0.5222 ± 0.0341
         : individual accs = ['0.828246', '0.834404', '0.808625', '0.841219', '0.828893', '0.820854', '0.828285', '0.829386', '0.838463', '0.841010', '0.820661', '0.821369', '0.835084', '0.835835', '0.802567', '0.833209', '0.816277', '0.813053', '0.834721', '0.797965']
         : correct/total = [(3419, 4128), (3507, 4203), (3300, 4081), (3645, 4333), (3391, 4091), (3519, 4287), (3473, 4193), (3607, 4349), (3514, 4191), (3597, 4277), (3400, 4143), (3444, 4193), (3418, 4093), (3508, 4197), (3252, 4052), (3357, 4029), (3390, 4153), (3401, 4183), (3409, 4084), (3294, 4128)]
         : compromised: 0.8283, honest: 0.8252
Round 009: test acc mean=0.8346 ± 0.0081 | min=0.8152 max=0.8516
         : test loss mean=0.5006 ± 0.0233
         : individual accs = ['0.815165', '0.842731', '0.840235', '0.835218', '0.835248', '0.834383', '0.839494', '0.843182', '0.851587', '0.831658', '0.818248', '0.830193', '0.834840', '0.833691', '0.826259', '0.831472', '0.835300', '0.842219', '0.837904', '0.832364']
         : correct/total = [(3365, 4128), (3542, 4203), (3429, 4081), (3619, 4333), (3417, 4091), (3577, 4287), (3520, 4193), (3667, 4349), (3569, 4191), (3557, 4277), (3390, 4143), (3481, 4193), (3417, 4093), (3499, 4197), (3348, 4052), (3350, 4029), (3469, 4153), (3523, 4183), (3422, 4084), (3436, 4128)]
         : compromised: 0.8340, honest: 0.8346
Round 010: test acc mean=0.8357 ± 0.0092 | min=0.8108 max=0.8534
         : test loss mean=0.4940 ± 0.0271
         : individual accs = ['0.832364', '0.853438', '0.810831', '0.842603', '0.834759', '0.838115', '0.842118', '0.839963', '0.840611', '0.837737', '0.831764', '0.830670', '0.840704', '0.835359', '0.824038', '0.846612', '0.838671', '0.841501', '0.821254', '0.830911']
         : correct/total = [(3436, 4128), (3587, 4203), (3309, 4081), (3651, 4333), (3415, 4091), (3593, 4287), (3531, 4193), (3653, 4349), (3523, 4191), (3583, 4277), (3446, 4143), (3483, 4193), (3441, 4093), (3506, 4197), (3339, 4052), (3411, 4029), (3483, 4153), (3520, 4183), (3354, 4084), (3430, 4128)]
         : compromised: 0.8367, honest: 0.8356

=== FINAL RESULTS ===
Dataset: femnist, Nodes: 20, Graph: erdos, Aggregation: krum
Attack: backdoor, 10.0% compromised
Final accuracy - Compromised: 0.8367, Honest: 0.8356
Overall test accuracy: mean=0.8357 ± 0.0092

=== BACKDOOR ATTACK SUCCESS RATE (ASR) ===
Target label: 0
Trigger size: 4x4
Overall ASR: 0.0559 ± 0.0090
Honest nodes ASR: 0.0563 ± 0.0093
Compromised nodes ASR: 0.0523 ± 0.0018
Note: Higher ASR indicates more successful backdoor attack
